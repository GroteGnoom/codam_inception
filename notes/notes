todo:
	let nginx show wordpress site
	- it now shows empty site

done:
	
	install ssh
	port forwarding, my 8000 is going to 22
	install curl
	install a few docker dependencies
	apt update, apt upgrade
	install engine :https://docs.docker.com/engine/install/ubuntu
	doesn't seem to work: install docker desktop https://docs.docker.com/desktop/linux/
	sudo docker run hello-world // works
	https://www.tecmint.com/install-virtualbox-guest-additions-in-ubuntu/
	use shared folder
	sudo apt install docker-compose
	https://www.digitalocean.com/community/questions/how-to-fix-docker-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket
	start over:
		download debian iso: https://www.debian.org/CD/netinst/
		make new virtual machine, use iso
		install, not graphical, but then later you also need to say to not install a desktop and gnome
	start over with arch:
		download iso directly https://archlinux.org/download/
		- actually check the shasum
		use the iso, no more options before it's installed
		https://wiki.archlinux.org/title/installation_guide
		I do not have UEFI, probably because of virtualbox
		network connection is already there, I can ping
		fixed my timezone https://www.tecmint.com/set-time-timezone-and-synchronize-time-using-timedatectl-command/
		only root partion is required for non-uefi
		let's try without swap space for now.
		https://www.thegeekdiary.com/how-to-create-a-partition-using-parted-command/	
		msdos and gpt seem fine for my purposes: https://unix.stackexchange.com/questions/289389/what-are-the-differences-between-the-various-partition-tables
https://www.tecmint.com/create-new-ext4-file-system-partition-in-linux/
		i've done a pacstrap without firmware, because I'm in a virtual machine
		I'm not sure the system will be able to deal with the growing harddisk
		After the base, I also use packstrap for iprout2 and vim. Don't know if i need filesystem management
		packman -S grub in the chroot
		https://wiki.archlinux.org/title/GRUB#Installation_2
		now I have a problem, because the msdos style label has no post-mbr gap, and it doesn't like blocklists

		ran reflector to update mirror list
	start over:
		enable efi in virtual machine
		install ssh: pacman -Sy openssh
		changed the root password to root
		maybe not necessary //edited sshconfig: https://superuser.com/questions/337694/openssh-server-how-to-configure-keyboard-interactive-authentication
		just remove the old thing //edited strict host key checking https://askubuntu.com/questions/87449/how-to-disable-strict-host-key-checking-in-ssh
		scp -P 8000 arch_install_script root@127.0.0.1:/root
		now I can't boot if I have EFI, but only without it?
	start over:
		no efi
		before installing openssh: reflector? other things? I get keyring problems if it's the first thing I do. Maybe it's the time and date settings!
		ssh, port forwarding, password, remove ssh known_host
	I should have used: https://wiki.archlinux.org/title/VirtualBox/Install_Arch_Linux_as_a_gues://wiki.archlinux.org/title/VirtualBox/Install_Arch_Linux_as_a_guest

		
	
	

osboxes osboxes.org
ssh -p 8000 osboxes@127.0.0.1

cat /etc/fstab //to check some mounting
df -lh //disks

sudo mount -t vboxsf inception /inception
/sbin/mount.vboxsf: mounting failed with the error: Invalid argument
error fixed by
sudo apt-get install virtualbox-guest-utils

show all containers:
docker container ls -a
which outputs something like
CONTAINER ID   IMAGE            COMMAND                  CREATED        STATUS                      PORTS     NAMES
46ecc02c5461   srcs_wordpress   "bash"                   18 hours ago   Exited (0) 18 hours ago               46ecc02c5461_wordpress

and then I can do
docker run -it --entrypoint bash srcs_wordpress
to get a shell in there


https://www.digitalocean.com/community/tutorials/docker-explained-how-to-containerize-and-use-nginx-as-a-proxy

curl 127.0.0.1:443
curl: (52) Empty reply from server

volumes: seem to go in fixed folder like /var/docker/volumes or something


hostfolder:guestfolder
https://earthly.dev/blog/docker-volumes/ 


lighttpd wordt in borntoberoot gebruikt voor wordpress server

php-fpm is de server!


noapic and split_lock_detect=off don't seem to fix my problems 

https://unix.stackexchange.com/questions/200582/scripteable-gpt-partitions-using-parted

https://www.gnu.org/software/grub/manual/grub/html_node/BIOS-installation.html

keyring problems
https://bbs.archlinux.org/viewtopic.php?id=198132
https://bbs.archlinux.org/viewtopic.php?id=187746
https://archived.forum.manjaro.org/t/solved-corrupted-gpg-conf-empty-keyring/34434
https://bbs.archlinux.org/viewtopic.php?id=201895

